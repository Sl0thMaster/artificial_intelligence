version: "3.1"

intents:
  - start
#  - bot_challenge
  - choose_number
  - choose_template
  - choose_search_by
  - ask

responses:
  utter_start:
  - text: "Привет, я - бот для поиска книг\nВы хотите найти определенную книгу, подобрать по жанру или вам что-то порекомендовать?"

#  utter_iamabot:
#  - text: "Я бот, сделанный на RASA"

  utter_choose_search_by:
    - text: "Вы хотите искать по автору или по названию?"

  utter_your_ask:
    - text: "Ваш запрос?"

entities:
  - TEMPLATE
  - ASK
  - NUMBER
  - SEARCH_BY

slots:
  TEMPLATE:
    type: categorical
    values:
      - жанр
      - рекомендация
      - поиск
    mappings:
      - type: from_entity
        entity: TEMPLATE
  ASK:
    type: list
    mappings:
      - type: from_entity
        entity: ASK
  NUMBER:
    type: text
    mappings:
      - type: from_entity
        entity: NUMBER
  SEARCH_BY:
    type: categorical
    values:
      - автор
      - название
    mappings:
      - type: from_entity
        entity: SEARCH_BY

actions:
  - action_reset_slots
  - action_show_popular_books
  - action_show_genres
  - action_show_subgenres
  - action_show_books_by_subgenre
  - action_show_found_books
  - action_show_found_authors
  - action_show_books_by_author
  - action_show_selected_book
#  - action_give_book
  - utter_start
  - utter_choose_search_by
  - utter_your_ask

session_config:
  session_expiration_time: 5
  carry_over_slots_to_new_session: true
